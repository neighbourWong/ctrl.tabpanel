!function(a,b){function c(a,c){function e(a){var b=document.createEvent("HTMLEvents");b.initEvent("switch",!0,!0),b.panel=a.selected.panel,b.selected=a.selected,b.selectedIndex=a.selectedIndex,g.dispatchEvent(b),Array.prototype.forEach.call(i.querySelectorAll(".panel"),function(a){a.style.display="none"}),a.selected.panel.style.display=""}var f=Date.now()+"-"+ ++d,g=document.createDocumentFragment();if(1!==arguments.length||arguments[0]instanceof HTMLElement||(c=arguments[0],a=null),a||(a=document.createElement("div")),c=c||{},c.header instanceof HTMLElement)var h=new b.tabheader(c.header);else if(c.header instanceof b.tabheader)var h=c.header;else var h=new b.tabheader;var i=document.createElement("div");a.appendChild(h.root),a.appendChild(i),a.setAttribute("data-ctrl-name","tabpanel"),a.setAttribute("data-ctrl-id",f),g.appendChild(a);var j=[];Object.defineProperty(this,"viewModel",{get:function(){return j},set:function(a){if(!a)throw new Error("Non expected value");j=a,this.syncViewModel()}}),h.addEventListener("select",e,!0),this.syncViewModel=function(){var a=j.slice();i.innerHTML="";for(var b=document.createDocumentFragment(),c=0;c<a.length;c++){var d=a[c].panel=document.createElement("div");d.className="panel",d.style.display="none",d.innerHTML=a[c].html||"",b.appendChild(a[c].panel)}i.appendChild(b),h.viewModel=a,e({selected:a[0],selectIndex:0})},this.addEventListener=function(){g.addEventListener.apply(g,arguments)},this.removeEventListener=function(){g.removeEventListener.apply(g,arguments)},this.remove=function(){a.parentNode&&a.parentNode.removeChild(a)},this.element=a,this.root=g}var d=0;b.tabpanel=c}(window,window.ctrl||(window.ctrl={}));
